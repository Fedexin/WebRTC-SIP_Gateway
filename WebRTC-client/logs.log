[vite] connecting... client:733:9
[vite] connected. client:827:12
Download the React DevTools for a better development experience: https://react.dev/link/react-devtools react-dom_client.js:17995:54
ğŸ”„ Route check:
Object { currentPath: "/", isInitialized: false, isConnected: false, hasCall: false, hasIncoming: false }
App.tsx:46:13
ğŸ”§ Registering WebRTC events... useWebRTC.ts:17:13
ğŸ”§ Registering event: onRemoteStream useWebRTC.ts:95:15
ğŸ”§ Registering event: onConnectionStateChange useWebRTC.ts:95:15
ğŸ”§ Registering event: onLocalStreamUpdated useWebRTC.ts:95:15
ğŸ”§ Registering event: onCallRequest useWebRTC.ts:95:15
ğŸ”§ Registering event: onCallResponse useWebRTC.ts:95:15
ğŸ”§ Registering event: onCallEnd useWebRTC.ts:95:15
ğŸ”§ Registering event: onError useWebRTC.ts:95:15
âœ… All events registered useWebRTC.ts:98:13
ğŸ”„ Route check:
Object { currentPath: "/setup", isInitialized: false, isConnected: false, hasCall: false, hasIncoming: false }
App.tsx:46:13
âœ… Connected to signaling server WebRTCService.ts:92:19
ğŸ”„ Route check:
Object { currentPath: "/setup", isInitialized: false, isConnected: true, hasCall: false, hasIncoming: false }
App.tsx:46:13
ğŸ“¨ Received message from server: {"type":"connected","message":"Connected to WebRTC Signaling Server","serverTime":"2025-12-16T16:13:38.586Z"} WebRTCService.ts:106:19
ğŸ“¨ Handling message type: connected WebRTCService.ts:649:13
âœ… Server connection confirmed WebRTCService.ts:653:19
â„¹ï¸ WebRTC Service initialized with username: fede WebRTCService.ts:73:13
â„¹ï¸ Perfect Negotiation Pattern: ENABLED WebRTCService.ts:74:13
Already connected to server, registering user now... WebRTCService.ts:77:15
ğŸ”„ Route check:
Object { currentPath: "/setup", isInitialized: true, isConnected: true, hasCall: false, hasIncoming: false }
App.tsx:46:13
ğŸ“¨ Received message from server: {"type":"registered","username":"fede","message":"Registration successful"} WebRTCService.ts:106:19
ğŸ“¨ Handling message type: registered WebRTCService.ts:649:13
âœ… Registration confirmed WebRTCService.ts:656:19
ğŸ“¨ Received message from server: {"type":"user-list","users":[]} WebRTCService.ts:106:19
ğŸ“¨ Handling message type: user-list WebRTCService.ts:649:13
ğŸ“‹ Received users list:
Array []
WebRTCService.ts:659:19
ğŸ“¨ Received message from server: {"type":"incoming-call","from":"sip:client1@192.168.1.209","callId":"220290082787@192.168.1.209","sdp":{"type":"offer","sdp":"v=0\r\no=client1 0 0 IN IP4 192.168.1.209\r\ns=-\r\nt=0 0\r\nm=audio 13158 RTP/SAVPF 0 8\r\nc=IN IP4 192.168.1.247\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=sendrecv\r\na=rtcp:13159\r\na=rtcp-mux\r\na=crypto:1 AEAD_AES_256_GCM inline:+qnnMubUhVj+aFfOCLdM7C6jYfczDoUx7nA7wmASC7Y1xLFp+6OSqB9kRXA\r\na=crypto:2 AEAD_AES_128_GCM inline:2w6D3astm2X8ZkWg+NNDLsVoVsdgKU7jIuoDHg\r\na=crypto:3 AES_256_CM_HMAC_SHA1_80 inline:PPtQZjwWegfoEme9e8ttMkuOkftw+yC6QMjishHHTyXllU1z9TYfDQ+wpaA2Ig\r\na=crypto:4 AES_256_CM_HMAC_SHA1_32 inline:PZm2NbrB+FGPBw2JPCbxvw/gP4roufIw1rhEpT6flpb8IGWmnBCaK+zKqPmafw\r\na=crypto:5 AES_192_CM_HMAC_SHA1_80 inline:j0Tac5BGxyYegmc+B/wkVev12jC4eBGLJxGmNfX31g9ISepKCSE\r\na=crypto:6 AES_192_CM_HMAC_SHA1_32 inline:dMcvHHBXlL0+0lRYCdhMfOvA2C6SYxImeonevF8T7khKg31JFPg\r\na=crypto:7 AES_CM_128_HMAC_SHA1_80 inline:E5f0C6/Uvk7L6EHVwKfS1DLY88B+yGGz/I+p+hr9\r\na=crypto:8 AES_CM_128_HMAC_SHA1_32 inline:GOso4VFGlE5GzbQk5dyVaulcP6zzT2LQQ8SDVShG\r\na=crypto:9 F8_128_HMAC_SHA1_80 inline:e6cHky83i/zKcjdi77EOqW1KPEkoUdDfQWJKUO8r\r\na=crypto:10 F8_128_HMAC_SHA1_32 inline:6WKvbx7C3MXW6Lj0rfedFEUlZRECcqaAUhR36Lot\r\na=crypto:11 NULL_HMAC_SHA1_80 inline:y7FCUUqJeDy9biingBHFmtsufXgOzqfFIdaHjD+S\r\na=crypto:12 NULL_HMAC_SHA1_32 inline:3H1EKOLud2rPJYZiIFNT9lt7QP1/WQ2wbydOiXbZ\r\na=setup:actpass\r\na=fingerprint:sha-256 29:AE:7B:D9:C5:C7:41:BC:6F:45:95:3F:9C:06:32:61:B6:77:A3:81:F8:73:F4:19:A4:60:0E:CF:0E:83:04:B8\r\na=tls-id:87f7a771842409b68b7ad4396b8c8053\r\na=ice-ufrag:rXArl9Dp\r\na=ice-pwd:03MbL1X3k23l29UuEPunzCy0UM\r\na=candidate:mVEZ9b43P4W1sXK2 1 UDP 2130706431 192.168.1.247 13158 typ host\r\na=candidate:mVEZ9b43P4W1sXK2 2 UDP 2130706430 192.168.1.247 13159 typ host\r\n"}} WebRTCService.ts:106:19
ğŸ“¨ Handling message type: incoming-call WebRTCService.ts:649:13
ğŸ“ Incoming SIP call from: sip:client1@192.168.1.209 callId: 220290082787@192.168.1.209 WebRTCService.ts:684:19
ğŸ’¾ Saved SIP call info:
Object { isSipCall: true, callId: "220290082787@192.168.1.209" }
WebRTCService.ts:688:19
ğŸ’¾ Saving pending offer with SDP WebRTCService.ts:693:21
ğŸ”” Hook: onCallRequest triggered by: sip:client1@192.168.1.209 useWebRTC.ts:45:17
ğŸ” Hook: Setting incomingCall state... useWebRTC.ts:46:17
âœ… Hook: incomingCall state set useWebRTC.ts:48:17
âœ… Hook: Toast shown useWebRTC.ts:53:17
ğŸ”„ Route check:
Object { currentPath: "/setup", isInitialized: true, isConnected: true, hasCall: false, hasIncoming: true }
App.tsx:46:13
â¡ï¸ Redirecting to call (has active call) App.tsx:61:15
ğŸ¥ Rendering VideoStream:
Object { participantName: "Utente", hasStream: false, showPlaceholderOverlay: true, isLocal: false }
VideoStream.tsx:124:11
ğŸ¥ Rendering VideoStream:
Object { participantName: "Tu", hasStream: false, showPlaceholderOverlay: false, isLocal: true }
VideoStream.tsx:124:11
ğŸ¥ VideoStream effect:
Object { hasStream: false, isVideoOff: false, isLocal: false, participantName: "Utente", streamId: undefined, tracks: undefined }
VideoStream.tsx:21:13
ğŸ¥ VideoStream effect:
Object { hasStream: false, isVideoOff: false, isLocal: true, participantName: "Tu", streamId: undefined, tracks: undefined }
VideoStream.tsx:21:13
ğŸ¥ Local stream - isVideoOff: false VideoStream.tsx:30:15
ğŸ“º VideoCall streams updated:
Object { hasLocal: false, hasRemote: false, localTracks: 0, remoteTracks: 0, isMuted: false, isVideoOff: false }
VideoCall.tsx:20:13
ğŸ“Š Call page state:
Object { isInitialized: true, isConnected: true, currentCall: undefined, incomingCall: "sip:client1@192.168.1.209", hasLocalStream: false, hasRemoteStream: false, localStreamId: undefined, remoteStreamId: undefined }
Call.tsx:98:13
ğŸ”„ Route check:
Object { currentPath: "/call", isInitialized: true, isConnected: true, hasCall: false, hasIncoming: true }
App.tsx:46:13
ğŸ¥ Rendering VideoStream:
Object { participantName: "Utente", hasStream: false, showPlaceholderOverlay: true, isLocal: false }
VideoStream.tsx:124:11
ğŸ¥ Rendering VideoStream:
Object { participantName: "Tu", hasStream: false, showPlaceholderOverlay: false, isLocal: true }
VideoStream.tsx:124:11
ğŸ”” Call: Accepting call from sip:client1@192.168.1.209 Call.tsx:84:15
ğŸ¥ Rendering VideoStream:
Object { participantName: "Utente", hasStream: false, showPlaceholderOverlay: true, isLocal: false }
VideoStream.tsx:124:11
ğŸ¥ Rendering VideoStream:
Object { participantName: "Tu", hasStream: false, showPlaceholderOverlay: false, isLocal: true }
VideoStream.tsx:124:11
Local stream updated useWebRTC.ts:41:17
ğŸ­ This peer is POLITE WebRTCService.ts:309:13
ğŸ“¤ Sending call-response (accepted) WebRTCService.ts:310:13
ğŸ”§ Creating peer connection... WebRTCService.ts:590:13
âœ… Peer connection created WebRTCService.ts:646:13
ğŸ“¥ Processing SIP offer immediately after accept... WebRTCService.ts:322:15
ğŸ“ Pending offer structure:
Object { hasType: true, hasSdp: true, sdpLength: 1639 }
WebRTCService.ts:323:15
ğŸ“¥ Setting remote description from SIP offer WebRTCService.ts:329:17
ğŸ¥ Rendering VideoStream:
Object { participantName: "Utente", hasStream: false, showPlaceholderOverlay: true, isLocal: false }
VideoStream.tsx:124:11
ğŸ¥ Rendering VideoStream:
Object { participantName: "Tu", hasStream: true, showPlaceholderOverlay: false, isLocal: true }
VideoStream.tsx:124:11
ğŸ¥ VideoStream effect:
Object { hasStream: true, isVideoOff: false, isLocal: true, participantName: "Tu", streamId: "{91b1ef96-1b96-4d57-b0cd-2a41e16df45d}", tracks: (2) [â€¦] }
VideoStream.tsx:21:13
ğŸ¥ Local stream - isVideoOff: false VideoStream.tsx:30:15
ğŸ¥ Setting video srcObject for: Tu VideoStream.tsx:108:13
ğŸ“º VideoCall streams updated:
Object { hasLocal: true, hasRemote: false, localTracks: 2, remoteTracks: 0, isMuted: false, isVideoOff: false }
VideoCall.tsx:20:13
ğŸ“º VideoCall sync effect:
Object { hasAudioTrack: true, hasVideoTrack: true, audioEnabled: true, videoEnabled: true, audioReadyState: "live", videoReadyState: "live" }
VideoCall.tsx:33:15
ğŸ“Š Call page state:
Object { isInitialized: true, isConnected: true, currentCall: undefined, incomingCall: "sip:client1@192.168.1.209", hasLocalStream: true, hasRemoteStream: false, localStreamId: "{91b1ef96-1b96-4d57-b0cd-2a41e16df45d}", remoteStreamId: undefined }
Call.tsx:98:13
ğŸ“º Remote track received WebRTCService.ts:598:15
Remote stream received useWebRTC.ts:20:17
ğŸ“ Creating answer for SIP call... WebRTCService.ts:340:17
ğŸ¥ Rendering VideoStream:
Object { participantName: "Utente", hasStream: true, showPlaceholderOverlay: true, isLocal: false }
VideoStream.tsx:124:11
ğŸ¥ Rendering VideoStream:
Object { participantName: "Tu", hasStream: true, showPlaceholderOverlay: false, isLocal: true }
VideoStream.tsx:124:11
ğŸ¥ VideoStream effect:
Object { hasStream: true, isVideoOff: false, isLocal: false, participantName: "Utente", streamId: "{572c7c1d-5702-455c-b2c1-ef50a33d92e6}", tracks: (1) [â€¦] }
VideoStream.tsx:21:13
ğŸ¥ Setting video srcObject for: Utente VideoStream.tsx:108:13
ğŸ“º VideoCall streams updated:
Object { hasLocal: true, hasRemote: true, localTracks: 2, remoteTracks: 1, isMuted: false, isVideoOff: false }
VideoCall.tsx:20:13
ğŸ“Š Call page state:
Object { isInitialized: true, isConnected: true, currentCall: undefined, incomingCall: "sip:client1@192.168.1.209", hasLocalStream: true, hasRemoteStream: true, localStreamId: "{91b1ef96-1b96-4d57-b0cd-2a41e16df45d}", remoteStreamId: "{572c7c1d-5702-455c-b2c1-ef50a33d92e6}" }
Call.tsx:98:13
ğŸ§Š Waiting for ICE gathering to complete... WebRTCService.ts:343:17
ğŸ”„ Negotiation needed, creating offer... WebRTCService.ts:629:19
ğŸ§Š ICE gathering state: gathering WebRTCService.ts:290:17
ğŸ§Š Sending ICE candidate WebRTCService.ts:603:17
ğŸ”— Connection state: connecting WebRTCService.ts:614:15
Connection state changed to: connecting useWebRTC.ts:24:17
ğŸ§Š Sending ICE candidate 5 WebRTCService.ts:603:17
ğŸ¥ Rendering VideoStream:
Object { participantName: "sip:client1@192.168.1.209", hasStream: true, showPlaceholderOverlay: true, isLocal: false }
VideoStream.tsx:124:11
ğŸ¥ Rendering VideoStream:
Object { participantName: "Tu", hasStream: true, showPlaceholderOverlay: false, isLocal: true }
VideoStream.tsx:124:11
ğŸ“¤ Sending offer via negotiation WebRTCService.ts:631:19
ğŸ¥ Cleaning up video for: Utente VideoStream.tsx:121:15
ğŸ¥ VideoStream effect:
Object { hasStream: true, isVideoOff: false, isLocal: false, participantName: "sip:client1@192.168.1.209", streamId: "{572c7c1d-5702-455c-b2c1-ef50a33d92e6}", tracks: (1) [â€¦] }
VideoStream.tsx:21:13
ğŸ¥ Setting video srcObject for: sip:client1@192.168.1.209 VideoStream.tsx:108:13
ğŸ“Š Call page state:
Object { isInitialized: true, isConnected: true, currentCall: "sip:client1@192.168.1.209", incomingCall: "sip:client1@192.168.1.209", hasLocalStream: true, hasRemoteStream: true, localStreamId: "{91b1ef96-1b96-4d57-b0cd-2a41e16df45d}", remoteStreamId: "{572c7c1d-5702-455c-b2c1-ef50a33d92e6}" }
Call.tsx:98:13
ğŸ”„ Route check:
Object { currentPath: "/call", isInitialized: true, isConnected: true, hasCall: true, hasIncoming: true }
App.tsx:46:13
ğŸ§Š Sending ICE candidate 19 WebRTCService.ts:603:17
âš ï¸ ICE gathering timeout after 3000 ms WebRTCService.ts:286:17
âš ï¸ ICE gathering timeout, proceeding anyway WebRTCService.ts:348:19
ğŸ”§ Normalized origin line: o=fede 548255896957249619 1 IN IP4 192.168.1.127 WebRTCService.ts:59:21
ğŸ“¤ Sending SIP answer
Object { isSipCall: true, hasIceCandidates: true, sdpLength: 5775, iceGatheringState: "gathering", candidateCount: 24, normalized: true }
WebRTCService.ts:354:17
âœ… SIP offer processed successfully WebRTCService.ts:374:17
âœ… Call: Call accepted Call.tsx:86:15
ğŸ¥ Rendering VideoStream:
Object { participantName: "sip:client1@192.168.1.209", hasStream: true, showPlaceholderOverlay: true, isLocal: false }
VideoStream.tsx:124:11
ğŸ¥ Rendering VideoStream:
Object { participantName: "Tu", hasStream: true, showPlaceholderOverlay: false, isLocal: true }
VideoStream.tsx:124:11
ğŸ“Š Call page state:
Object { isInitialized: true, isConnected: true, currentCall: "sip:client1@192.168.1.209", incomingCall: undefined, hasLocalStream: true, hasRemoteStream: true, localStreamId: "{91b1ef96-1b96-4d57-b0cd-2a41e16df45d}", remoteStreamId: "{572c7c1d-5702-455c-b2c1-ef50a33d92e6}" }
Call.tsx:98:13
ğŸ”„ Route check:
Object { currentPath: "/call", isInitialized: true, isConnected: true, hasCall: true, hasIncoming: false }
App.tsx:46:13
ğŸ§Š Sending ICE candidate WebRTCService.ts:603:17
ğŸ” SettingsMenu updateDeviceOptions:
Object { currentDevices: {â€¦}, audioDevices: (2) [â€¦], videoDevices: (1) [â€¦] }
SettingsMenu.tsx:47:13
ğŸ” Audio device matching:
Object { currentDeviceId: "B0SPEYDluPMSazxeQkeKNEGJY6+hO5vtkiajJUbBtMY=", foundIndex: 0, availableDevices: (2) [â€¦] }
SettingsMenu.tsx:61:21
ğŸ” Video device matching:
Object { currentDeviceId: "/0/0SxzWDXYf3ume3gnIupi4H/T3Jy62gKCmyXE0dMU=", foundIndex: 0, availableDevices: (1) [â€¦] }
SettingsMenu.tsx:86:21
ğŸ” Updated audio selection to index: 0 SettingsMenu.tsx:71:27
ğŸ” Updated video selection to index: 0 SettingsMenu.tsx:96:27
ğŸ¥ Rendering VideoStream:
Object { participantName: "sip:client1@192.168.1.209", hasStream: true, showPlaceholderOverlay: true, isLocal: false }
VideoStream.tsx:124:11
ğŸ¥ Rendering VideoStream:
Object { participantName: "sip:client1@192.168.1.209", hasStream: true, showPlaceholderOverlay: true, isLocal: false }
VideoStream.tsx:124:11
ğŸ”´ Ending call
Object { currentCall: {â€¦}, isSipCall: true, callId: "220290082787@192.168.1.209" }
WebRTCService.ts:408:13
ğŸ“¤ Sending SIP hangup with callId: 220290082787@192.168.1.209 WebRTCService.ts:421:17
Local stream updated useWebRTC.ts:41:17
Call ended useWebRTC.ts:74:17
ğŸ¥ Cleaning up video for: sip:client1@192.168.1.209 VideoStream.tsx:121:15
ğŸ¥ Cleaning up video for: Tu VideoStream.tsx:121:15
ğŸ“Š Call page state:
Object { isInitialized: true, isConnected: true, currentCall: undefined, incomingCall: undefined, hasLocalStream: false, hasRemoteStream: false, localStreamId: undefined, remoteStreamId: undefined }
Call.tsx:98:13
ğŸ”„ Route check:
Object { currentPath: "/call", isInitialized: true, isConnected: true, hasCall: false, hasIncoming: false }
App.tsx:46:13
â¡ï¸ Redirecting to dashboard (connected, no calls) App.tsx:66:15
ğŸ”„ Route check:
Object { currentPath: "/setup", isInitialized: true, isConnected: true, hasCall: false, hasIncoming: false }
App.tsx:46:13
ğŸ“¨ Received message from server: {"type":"call-ended","callId":"220290082787@192.168.1.209","reason":"Call terminated"} WebRTCService.ts:106:19
ğŸ“¨ Handling message type: call-ended WebRTCService.ts:649:13
ğŸ“ Call ended by: undefined WebRTCService.ts:772:19
Call ended useWebRTC.ts:74:17
Disconnected from signaling server WebRTCService.ts:115:19
